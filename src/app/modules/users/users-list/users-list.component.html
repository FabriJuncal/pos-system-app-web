<div class="card mb-5 mb-xl-8">
  <app-dynamic-search-form (searchSubmit)="filterUsers($event)"></app-dynamic-search-form>
</div>

<ng-container *ngIf="isLoading$ | async">
  <app-loader></app-loader>
</ng-container>
<ng-container *ngIf="(isLoading$ | async) === 0">
  <div class="card mb-5 mb-xl-8">
    <!-- begin::Header -->
    <!-- <div class="card-header border-0 pt-5 justify-content-end">
      <div class="card-body container">
        <div class="form form-label-right">
          <div class="form-group row">
            <div class="col-lg-8">
              <div class="row">
                <div class="col col-lg-12">
                  <input
                  type="text"
                  class="form-control"
                  name="searchText"
                  placeholder="Ingrese un Correo o Nombre"
                  value=""
                  [(ngModel)]="search"
                /><small class="form-text text-muted"
                  ><b>Buscar</b> por correo y nombre</small
                >
                </div>
              </div>
              <div class="row mt-5">
                <div class="col col-lg-4">
                  <ng-select [(ngModel)]="state" placeholder="Selecciona el Estado">
                    <ng-option class="form-control" value="1">Activo</ng-option>
                    <ng-option class="form-control" value="2">Inactivo</ng-option>
                 </ng-select>
                  <small class="form-text text-muted"><b>Filtrar</b> por Estado</small>
                </div>
                <div class="col col-lg-8">
                  <ng-select [(ngModel)]="selectedRol" placeholder="Selecciona un Rol">
                    <ng-option class="form-control" *ngFor="let rol of roles" [value]="rol.id">{{rol.name}}</ng-option>
                 </ng-select>
                    <small class="form-text text-muted"
                    ><b>Filtro</b> por Rol</small
                  >
                </div>
              </div>
            </div>
            <div class="col col-lg-4">
              <div class="row mt-5 mt-lg-0">
                <div class="col-1 col-12 col-sm-3 col-lg-3 row-cols-1 row-cols-sm-12 row-cols-lg-12">
                  <button class="btn btn-sm btn-primary" appTooltip data-bs-placement="top" data-bs-title="Filtrar" (click)="loadUsers()">
                    <app-keenicon name="filter-search" type="outline"  class="text-white fs-2x"></app-keenicon>
                  </button>
                </div>
                <div class="col-1 col-12 col-sm-3 col-lg-3 row-cols-1 row-cols-sm-12 row-cols-lg-12 mt-2 mt-sm-0 mt-lg-0">
                  <button class="btn btn-sm btn-dark" appTooltip data-bs-placement="top" data-bs-title="Refrescar" (click)="reset()">
                    <app-keenicon name="arrows-circle" type="outline" class="text-white fs-2x"></app-keenicon>
                  </button>
                </div>
                <div class="col-1 col-12 col-sm-3 col-lg-3 row-cols-1 row-cols-sm-12 row-cols-lg-12 mt-2 mt-sm-0 mt-lg-0">
                  <button class="btn btn-sm btn-primary" appTooltip data-bs-placement="top" data-bs-title="Crear Usuario" (click)="addUser()">
                    <app-keenicon name="plus" class="text-white fs-2x"></app-keenicon>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->


    <!-- end::Header -->
    <!-- begin::Body -->
    <app-dynamic-table
    [data]="dataTable$ | async"
    [columns]="colmunsTable$ | async"
    (modify)="modifyRecords($event)"
    (delete)="deleteRecords($event)">
  </app-dynamic-table>
    <!-- begin::Body -->
  </div>

  <div>
    <ngb-pagination
      [collectionSize]="totalPages"
      [(page)]="currentPage"
      [pageSize]="20"
      [maxSize]="5"
      [rotate]="true"
      [boundaryLinks]="true"
      (pageChange)="loadPage($event)"
    ></ngb-pagination>
</div>
</ng-container>
